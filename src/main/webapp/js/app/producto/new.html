<header-component></header-component>
<main style="margin-top:50px;" role="main" class="container">

    <div class="primeraParte"></div>
        
    <form name="userForm" style="margin-bottom: 50px;" ng-show="!mensaje">
        <h3 style="text-align: center">Editar Producto</h3>
        <div class="form-group">
            <!--ID-->
            <label>ID</label>
            <input type="text" class="form-control" id="id" name="id" ng-disabled="true" ng-model="ajaxDatoProducto.id" />
        </div>
        <!--CODIGO-->
        <div class="form-group" ng-class="{ 'has-error' : userForm.codigo.$invalid && !userForm.codigo.$pristine }">
            <label>C&oacutedigo</label>
            <input type="text" class="form-control" id="codigo" name="codigo" ng-model="ajaxDatoProducto.codigo" ng-required="true"/>
        </div>
        <!-- DESCRIPCION-->
        <div class="form-group">
            <label>Descripción</label>
            <input type="text" class="form-control" id="desc" name="desc" ng-model="ajaxDatoProducto.desc" ng-required="true" />
            <div ng-show="!userForm.desc.$valid && !userForm.desc.$pristine" class="alert alert-danger" role="alert">
                Descripción obligatoria
            </div>

        </div>
        <!--EXISTENCIAS-->
        <div class="form-group">
            <label>Existencias</label>
            <input type="text" class="form-control" id="existencias" name="existencias" ng-model="ajaxDatoProducto.existencias" ng-required="true" />
            <div ng-show="!userForm.existencias.$valid && !userForm.existencias.$pristine" class="alert alert-danger" role="alert">
                Por lo menos 1 en existencias.
            </div>
        </div>
        <!--FOTO-->
        <div class="form-group">
            <label>Foto</label>
            <!--<input type="text" class="form-control" id="foto" name="foto" ng-model="ajaxDatoProducto.foto" ng-required="true" />
            <div ng-show="!userForm.foto.$valid && !userForm.foto.$pristine" class="alert alert-danger" role="alert">
                Foto obligatoria
            </div>-->
            <input type = "file" file-model = "myFile"/>
        </div>
        <!--PRECIO-->
        <div class="form-group">
            <label>Precio</label>
            <input type="text" class="form-control" id="precio" name="precio" ng-model="ajaxDatoProducto.precio" ng-required="true" />
            <div ng-show="!userForm.precio.$valid && !userForm.precio.$pristine" class="alert alert-danger" role="alert">
                Precio obligatorio
            </div>
        </div>
        
        <!--TIPO PRODUCTO-->
        <div class="form-group">
            <label>Tipo Producto</label>
            <tipoproducto-selection class="modal fade" id="cadd-location-modal" obj="ajaxDatoProducto.obj_tipoProducto"></tipoproducto-selection>
            <span class="input-group-text fas fa-search"
                  data-toggle="modal"
                  data-target="#cadd-location-modal"></span>
            <input ng-model="ajaxDatoProducto.obj_tipoProducto.id"
                                   ng-change="tipoProductoRefresh()"
                                   id="obj_tipoProducto_desc"
                                   name="obj_tipoProducto_desc"
                                   aria-describedby="basic-addon2"
                                   class="form-control"
                                   type="text"
                                   size="5"
                                   ng-required="true"
                                   ng-model-options="{debounce:1000}"
                                   maxlength="5">
            <h3><strong>{{ajaxDatoProducto.obj_tipoProducto.desc}}</strong></h3>
        </div>
        <div ng-show="tipoproducto" class="alert alert-danger" role="alert">
                Tipo Producto NO válido.
            </div>
      
        <button ng-click="guardar()" type="button" class="btn btn-success" ng-disabled="userForm.$invalid">Enviar</button>
    </form>
    <a href="javascript:window.history.back();"> <button class="btn btn-danger">Volver</button> </a>
    <div class="alert alert-success" ng-show="mensaje">
        Datos actualizados correctamente.
    </div>
    <div class="alert alert-danger" ng-show="mensajeError">
        Datos erroneos.
    </div>
</main>